<!DOCTYPE html>
<html lang="ja">
<head>
    <%- include('../../partials/head'); %>
    <title><%= classId %>の教員用レッスン管理パネル | <%= process.env.ServiceName %></title>
    <script src="/js/lessonAdmin.min.js"></script>
</head>
<body>
<header>
    <%- include('../../partials/header'); %>
</header>
<main class="container">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="/class/<%= classId %>"><%= classId %></a></li>
            <li class="breadcrumb-item"><a href="/admin/<%= classId %>">管理パネル</a></li>
            <li class="breadcrumb-item active" aria-current="page">レッスン管理パネル</li>
        </ol>
    </nav>
    <h1><%= classId %>の教員用レッスン管理パネル</h1>
    <p>これは教員向けのレッスン管理機能です。</p>
    <hr class="my-4">
    <p id="errorMsg" style="color: red;"></p>
    <a class="btn btn-primary w-100" href="/admin/<%= classId %>/createLesson">レッスンを新規作成</a>
    <div id="cardList" class="mt-3"></div>
    <nav class="mt-3">
        <ul class="pagination justify-content-center">
            <li class="page-item" id="paginationBack">
                <a class="page-link" tabindex="-1">＜</a>
            </li>
            <p id="paginationInfo" class="p-2"></p>
            <li class="page-item" id="paginationNext">
                <a class="page-link">＞</a>
            </li>
        </ul>
    </nav>
</main>
<div class="modal fade" id="deleteCheckModal" tabindex="-1" aria-labelledby="deleteCheckModalLabel">
    <div class="modal-dialog modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="deleteCheckModalLabel">本当に削除しますか？</h5>
                <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div>
                    <p class="text-muted">レッスンID</p>
                    <p class="px-2" id="modalLessonId"></p>
                </div>
                <div>
                    <p class="text-muted">レッスン名</p>
                    <p class="px-2" id="modalLessonName"></p>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">閉じる</button>
                <button type="button" class="btn btn-danger" data-bs-dismiss="modal" onclick="removeLesson()">削除
                </button>
            </div>
        </div>
    </div>
</div>
<footer>
    <%- include('../../partials/footer'); %>
</footer>
<script>
    isAdmin('<%= classId %>');
    getLesson("<%= classId %>");
</script>
</body>
</html>