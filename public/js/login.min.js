function classLogout(t){var s=String($.cookie("classList")).split(",").filter(s=>s!=t),s=($.cookie("classList",s.join(",")),$("#listElm_"+t));s&&s.remove()}$(function(){var s=$.cookie("username"),s=(s&&$("#username").val(s),$.cookie("classList"));if(s){s=s.split(",");s.reverse(),s.length<1&&$("#cookieClassDiv").hide();for(const e of s)$("#cookieClassList").html($("#cookieClassList").html()+`<div class="d-flex text-muted pt-3" id="listElm_${e}"><span class="flex-shrink-0 me-2"></span>
                <div class="pb-3 mb-0 small lh-sm border-bottom w-100">
                    <div class="d-flex flex-column flex-md-row align-items-center">
                        <div class="col-lg-auto justify-content-center">
                            <strong class="text-gray-dark" id="listName_${e}">${e}</strong>
                            <span class="d-block" id="listId_${e}"></span>
                        </div>
                        <div class="mt-md-0 ms-md-auto">
                            <a href="/class/${e}" class="btn btn-primary btn-sm">このクラスにログイン</a>
                            <button type="button" class="btn btn-danger btn-sm" onclick="classLogout('${e}')">ログアウト</button>
                        </div>
                    </div>
                </div></div>`),$.ajax({type:"GET",url:"/api/class/get/"+e,contentType:"application/json",dataType:"json"}).done(function(s,t,a){$("#listName_"+e).text(s.className),$("#listId_"+e).text("@"+s.classId)})}else $("#cookieClassDiv").hide();$("#classLoginButton").click(function(s){$("#loading-overlay").fadeIn(300),$.ajax({type:"POST",url:"/api/class/auth",data:JSON.stringify({classId:$("#classId").val(),username:$("#username").val()}),contentType:"application/json",dataType:"json"}).done(function(s,t,a){window.location.href="/class/"+s.classId}).fail(function(s,t,a){$("#loading-overlay").fadeOut(300),$("#errorMsg").text(s.responseJSON.msg)})}),$("#username").keypress(function(s){13==s.which&&$("#classLoginButton").click()}),$("#classId").keypress(function(s){13==s.which&&$("#classLoginButton").click()})});